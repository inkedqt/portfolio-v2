<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>{{ page.title }} // inksec.io</title>
<link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Syne+Mono&family=DM+Mono:wght@300;400;500&display=swap" rel="stylesheet">
<style>
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
  --black:      #050508;
  --deep:       #08080f;
  --panel:      #0c0c18;
  --pink:       #ff66c4;
  --pink-dim:   rgba(255,102,196,0.4);
  --pink-faint: rgba(255,102,196,0.07);
  --cyan:       #00f5d4;
  --cyan-dim:   rgba(0,245,212,0.4);
  --cyan-faint: rgba(0,245,212,0.07);
  --gold:       #ffd166;
  --muted:      #2a2a45;
  --subtle:     #4a4a6a;
  --text:       #c8c8e8;
  --text-dim:   #7a7a9a;
  --green:      #00ff88;
}

html { scroll-behavior: smooth; }

body {
  background: var(--black);
  color: var(--text);
  font-family: 'DM Mono', monospace;
  font-weight: 300;
  min-height: 100vh;
  overflow-x: hidden;
}

/* grid bg */
body::before {
  content: '';
  position: fixed;
  inset: 0;
  background:
    linear-gradient(#1a1a2e 1px, transparent 1px),
    linear-gradient(90deg, #1a1a2e 1px, transparent 1px);
  background-size: 36px 36px;
  opacity: 0.08;
  pointer-events: none;
  z-index: 0;
}

/* scanline */
.scanline {
  position: fixed; top: 0; left: 0; right: 0;
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--pink-dim), transparent);
  animation: scan 8s linear infinite;
  opacity: 0.2; z-index: 999; pointer-events: none;
}
@keyframes scan { 0%{top:-1px} 100%{top:100%} }

/* ── NAV ── */
nav {
  position: sticky; top: 0; z-index: 100;
  background: rgba(5,5,8,0.95);
  backdrop-filter: blur(14px);
  border-bottom: 1px solid var(--muted);
  padding: 0 clamp(16px,5vw,80px);
  display: flex; align-items: center;
  justify-content: space-between; height: 52px;
}
.nav-brand {
  font-family: 'Syne Mono', monospace;
  font-size: 15px; color: var(--text);
  text-decoration: none;
}
.nav-brand .pk { color: var(--pink); text-shadow: 0 0 20px var(--pink-dim); }
.nav-brand .cx { color: var(--cyan); }
.nav-back {
  font-size: 10px; letter-spacing: 0.15em;
  color: var(--subtle); text-decoration: none;
  border: 1px solid var(--muted); padding: 4px 10px;
  transition: all 0.2s;
}
.nav-back:hover { color: var(--cyan); border-color: var(--cyan-dim); }

/* ── LAYOUT ── */
.wrap {
  position: relative; z-index: 1;
  max-width: 820px;
  margin: 0 auto;
  padding: 52px clamp(16px,5vw,48px) 80px;
}

/* ── LAB HEADER ── */
.lab-header {
  padding-bottom: 36px;
  border-bottom: 1px solid var(--muted);
  margin-bottom: 40px;
}

.lab-eyebrow {
  font-size: 9px; letter-spacing: 0.35em;
  text-transform: uppercase; color: var(--subtle);
  margin-bottom: 14px;
  font-family: 'Share Tech Mono', monospace;
}

.lab-title {
  font-family: 'Syne Mono', monospace;
  font-size: clamp(20px, 3.5vw, 32px);
  color: var(--text);
  line-height: 1.1;
  margin-bottom: 20px;
}
.lab-title .pk { color: var(--pink); text-shadow: 0 0 30px var(--pink-dim); }
.lab-title .cx { color: var(--cyan); }

.lab-meta-bar {
  display: flex; gap: 6px; flex-wrap: wrap;
  align-items: center; margin-bottom: 16px;
}
.meta-badge {
  font-family: 'Share Tech Mono', monospace;
  font-size: 8px; letter-spacing: 0.2em;
  text-transform: uppercase; padding: 3px 10px;
  border: 1px solid;
}
.meta-platform { border-color: rgba(0,180,255,0.4); color: #00b4ff; background: rgba(0,180,255,0.08); }
.meta-diff-Easy   { border-color: var(--cyan-dim); color: var(--cyan); background: var(--cyan-faint); }
.meta-diff-Medium { border-color: rgba(255,209,102,0.4); color: var(--gold); background: rgba(255,209,102,0.07); }
.meta-diff-Hard   { border-color: rgba(255,140,0,0.4); color: #ff8c00; background: rgba(255,140,0,0.08); }
.meta-cat {
  border-color: var(--muted); color: var(--subtle);
  background: transparent;
}

.lab-tactics {
  display: flex; gap: 6px; flex-wrap: wrap; margin-top: 10px;
}
.tactic-badge {
  font-family: 'Share Tech Mono', monospace;
  font-size: 7px; letter-spacing: 0.15em;
  text-transform: uppercase; padding: 2px 8px;
  border: 1px solid rgba(255,102,196,0.2);
  color: rgba(255,102,196,0.6);
  background: var(--pink-faint);
}

/* ── PROOF / LINKS BAR ── */
.lab-links-bar {
  display: flex; gap: 8px; margin-top: 20px; flex-wrap: wrap;
}
.lab-ext-link {
  font-family: 'Share Tech Mono', monospace;
  font-size: 9px; letter-spacing: 0.18em;
  text-transform: uppercase; text-decoration: none;
  padding: 6px 14px; border: 1px solid;
  transition: all 0.2s;
}
.lab-ext-link.primary {
  color: var(--pink); border-color: var(--pink-dim);
}
.lab-ext-link.primary:hover { background: var(--pink-faint); }
.lab-ext-link.secondary {
  color: var(--cyan); border-color: var(--cyan-dim);
}
.lab-ext-link.secondary:hover { background: var(--cyan-faint); }

/* ── MARKDOWN CONTENT ── */
.lab-content {
  line-height: 1.8;
  letter-spacing: 0.03em;
  font-size: clamp(14.4px, 1.8vw, 16.2px);
  color: var(--text-dim);
}

.lab-content h2 {
  font-family: 'Syne Mono', monospace;
  font-size: clamp(14px, 2vw, 18px);
  color: var(--pink);
  letter-spacing: 0.04em;
  margin: 48px 0 16px;
  padding-bottom: 8px;
  border-bottom: 1px solid var(--muted);
}

.lab-content h3 {
  font-family: 'Syne Mono', monospace;
  font-size: clamp(12px, 1.6vw, 15px);
  color: var(--cyan);
  letter-spacing: 0.04em;
  margin: 32px 0 12px;
}

.lab-content h4 {
  font-family: 'Share Tech Mono', monospace;
  font-size: 12px;
  color: var(--text);
  letter-spacing: 0.1em;
  text-transform: uppercase;
  margin: 24px 0 8px;
}

.lab-content p {
  margin-bottom: 16px;
  color: var(--text-dim);
}

.lab-content strong {
  color: var(--text);
  font-weight: 500;
}

.lab-content em {
  color: var(--pink);
  font-style: normal;
}

/* blockquote — scenario box */
.lab-content blockquote {
  border-left: 2px solid var(--pink);
  background: var(--pink-faint);
  padding: 16px 20px;
  margin: 24px 0;
  color: var(--text);
  font-size: 12px;
  line-height: 1.8;
  letter-spacing: 0.04em;
}
.lab-content blockquote p { margin: 0; color: var(--text); }

/* code inline */
.lab-content code {
  font-family: 'Share Tech Mono', monospace;
  font-size: 11px;
  background: rgba(0,245,212,0.08);
  color: var(--cyan);
  padding: 1px 6px;
  border: 1px solid rgba(0,245,212,0.15);
}

/* code blocks */
.lab-content pre {
  background: var(--deep);
  border: 1px solid var(--muted);
  border-left: 2px solid var(--cyan-dim);
  padding: 16px 20px;
  margin: 20px 0;
  overflow-x: auto;
}
.lab-content pre code {
  background: none;
  border: none;
  padding: 0;
  color: var(--cyan);
  font-size: 12px;
  line-height: 1.7;
}

/* tables */
.lab-content table {
  width: 100%;
  border-collapse: collapse;
  margin: 24px 0;
  font-size: 11px;
  font-family: 'Share Tech Mono', monospace;
}
.lab-content th {
  background: var(--panel);
  color: var(--pink);
  font-size: 8px;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  padding: 10px 14px;
  text-align: left;
  border: 1px solid var(--muted);
}
.lab-content td {
  padding: 8px 14px;
  border: 1px solid var(--muted);
  color: var(--text-dim);
  vertical-align: top;
}
.lab-content tr:nth-child(even) td { background: rgba(255,255,255,0.02); }
.lab-content tr:hover td { background: var(--cyan-faint); }

/* lists */
.lab-content ul, .lab-content ol {
  padding-left: 20px;
  margin-bottom: 16px;
}
.lab-content li {
  margin-bottom: 6px;
  color: var(--text-dim);
  line-height: 1.7;
}
.lab-content ul li::marker { color: var(--cyan); }
.lab-content ol li::marker {
  color: var(--pink);
  font-family: 'Share Tech Mono', monospace;
  font-size: 11px;
}

/* images */
.lab-content img {
  max-width: 100%;
  height: auto;
  border: 1px solid var(--muted);
  margin: 20px 0;
  display: block;
  filter: brightness(0.92) saturate(1.1);
  transition: filter 0.3s, border-color 0.3s;
}
.lab-content img:hover {
  filter: brightness(1) saturate(1.2);
  border-color: var(--cyan-dim);
}

/* hr */
.lab-content hr {
  border: none;
  border-top: 1px solid var(--muted);
  margin: 40px 0;
}

/* links */
.lab-content a {
  color: var(--cyan);
  text-decoration: none;
  border-bottom: 1px solid rgba(0,245,212,0.2);
  transition: border-color 0.2s, color 0.2s;
}
.lab-content a:hover {
  color: var(--pink);
  border-color: var(--pink-dim);
}

/* ── FOOTER NAV ── */
.lab-footer-nav {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-top: 40px;
  margin-top: 60px;
  border-top: 1px solid var(--muted);
  flex-wrap: wrap;
  gap: 12px;
}
.footer-nav-link {
  font-family: 'Share Tech Mono', monospace;
  font-size: 9px; letter-spacing: 0.18em;
  text-transform: uppercase; text-decoration: none;
  color: var(--subtle); border: 1px solid var(--muted);
  padding: 6px 14px; transition: all 0.2s;
}
.footer-nav-link:hover { color: var(--cyan); border-color: var(--cyan-dim); }
.footer-brand {
  font-family: 'Syne Mono', monospace;
  font-size: 12px;
}
.footer-brand .pk { color: var(--pink); }
.footer-brand .cx { color: var(--cyan); }

/* ── RESPONSIVE ── */
@media(max-width:600px) {
  .lab-meta-bar { gap: 4px; }
}
</style>
</head>
<body>
<div class="scanline"></div>

<nav>
  <a class="nav-brand" href="/">
    <span class="pk">ink</span>sec<span class="cx">.io</span>
  </a>
  <a class="nav-back" href="/blue-team/">← blue team</a>
</nav>

<div class="wrap">

  <!-- LAB HEADER -->
  <div class="lab-header">
    <div class="lab-eyebrow">
      // {{ page.platform | default: 'lab' }} &nbsp;·&nbsp; {{ page.category | default: 'writeup' }}
    </div>

    <h1 class="lab-title">{{ page.title }}</h1>

    <div class="lab-meta-bar">
      {% if page.platform %}
        <span class="meta-badge meta-platform">{{ page.platform }}</span>
      {% endif %}
      {% if page.difficulty %}
        <span class="meta-badge meta-diff-{{ page.difficulty }}">{{ page.difficulty }}</span>
      {% endif %}
      {% if page.tools %}
        {% for tool in page.tools %}
          <span class="meta-badge meta-cat">{{ tool }}</span>
        {% endfor %}
      {% endif %}
    </div>

    {% if page.tactics %}
    <div class="lab-tactics">
      {% for tactic in page.tactics %}
        <span class="tactic-badge">{{ tactic }}</span>
      {% endfor %}
    </div>
    {% endif %}

    <div class="lab-links-bar">
      {% if page.proof %}
        <a class="lab-ext-link primary" href="{{ page.proof }}" target="_blank">proof of completion →</a>
      {% endif %}
      {% if page.challenge_url %}
        <a class="lab-ext-link secondary" href="{{ page.challenge_url }}" target="_blank">challenge page →</a>
      {% endif %}
      <a class="lab-ext-link secondary" href="/blue-team/#labs">← all labs</a>
    </div>
  </div>

  <!-- MARKDOWN CONTENT -->
  <div class="lab-content">
    {{ content }}
  </div>

  <!-- FOOTER NAV -->
  <div class="lab-footer-nav">
    <a class="footer-nav-link" href="/blue-team/">← blue team ops</a>
    <span class="footer-brand">
      <span class="pk">ink</span>sec<span class="cx">.io</span>
    </span>
    <a class="footer-nav-link" href="https://0x74617465.sh" target="_blank">red team →</a>
  </div>

</div>
</body>
</html>
