<div class="htb-table-wrapper">
  <table class="ink-table">
    <colgroup>
      <col style="width: 16%">
      <col style="width: 10%">
      <col style="width: 12%">
      <col style="width: 10%">
      <col style="width: 10%">
      <col style="width: 42%">
    </colgroup>

    <thead>
      <tr>
        <th>Lab</th>
        <th>Tier</th>
        <th>Status</th>
        <th>Proof</th>
        <th>Link</th>
        <th>Notes</th>
      </tr>
    </thead>

    <tbody>
      {% assign rows = include.items | default: site.data.prolabs | default: site.prolabs %}
      {% for lab in rows %}
      <tr>
        <td>{{ lab.name }}</td>
        <td>{{ lab.tier }}</td>
        <td>
          <span class="status {{ lab.status | downcase | replace: ' ', '-' }}">
            {{ lab.status }}
          </span>
        </td>

        <td>
          {% if lab.proof_img %}
            <img class="proof-img" src="{{ lab.proof_img }}" alt="Proof for {{ lab.name }}">
          {% else %}
            —
          {% endif %}
        </td>

        <td>
          {% if lab.url %}
            <a class="writeup-link" href="{{ lab.url }}">View</a>
          {% else %}
            —
          {% endif %}
        </td>

        <td class="notes-cell">
          {% if lab.blurb and lab.blurb != "" %}
            <details class="summary-toggle">
              <summary>View notes ▶</summary>
              <div class="summary-content">{{ lab.blurb }}</div>
            </details>
          {% else %}
            —
          {% endif %}
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  {% include table-tally.html items=site.data.prolabs title="ProLabs tally" %}
</div>
